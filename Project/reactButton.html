<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React button</title>
    <link href="https://cdn.jsdelivr.net/gh/hung1001/font-awesome-pro@4cac1a6/css/all.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="../assets/css/reactButton/reactButton.css">

</head>
<body>
    <a href="#" class="FB_reactions">
        <span class="text">
            <img src="../assets/Image/like.png" alt="">
            <p>like</p>
            
        </span>
        <div class="reaction-container">
            <div class="reaction-item">
                <img src="../assets/Image/like.png" alt="">
            </div>
            <div class="reaction-item">
                <img src="../assets/Image/love.png" alt="">
            </div>
            <div class="reaction-item">
                <img src="../assets/Image/laughing.png" alt="">
            </div>
            <div class="reaction-item">
                <img src="../assets/Image/cool.png" alt="">
            </div>
            <div class="reaction-item">
                <img src="../assets/Image/sad.png" alt="">
            </div>
        </div>
    </a>

    <script>
        const infoReact = [
            {
                text: 'Like',
                path:'../assets/Image/like.png'
            },
            {
                text: 'Love',
                path:'../assets/Image/Love.png'
            },
            {
                text: 'Haha',
                path:'../assets/Image/laughing.png'
            },
            {
                text: 'Cool',
                path:'../assets/Image/cool.png'
            },
            {
                text: 'Sad',
                path:'../assets/Image/sad.png'
            },
        ]

        const $ = document.querySelector.bind(document)
        const $$ = document.querySelectorAll.bind(document)

        const reaction = $('.FB_reactions')
        const reactItems = $$('.reaction-item');
        const reactWrapper = $('.reaction-container')
        const reactText = $('.FB_reactions .text p')
        const reactIcon = $('.FB_reactions img')

        const changeColor = () => {
            if (reactText.innerText.toLowerCase() === 'like') {
                    reactText.style.color ="#1877F2"
                }
                else if (reactText.innerText.toLowerCase() === 'love') {
                    reactText.style.color ="#FF5259" 
                }
                else {
                    reactText.style.color ="#FFD93B"
                }
        }

        reaction.onclick = (e) => { 
            // Xử lý like defaut
            if(!reactWrapper.contains(e.target)) {
                infoReact.forEach((item, index) => {
                    if (item.text === "Like") {
                       reactText.textContent =item.text
                       reactIcon.src = item.path
                       reactText.style.color ="#1877F2"
                    }
                })
            }
            // Xử lý reaction
            else {
                reactItems.forEach((reactItem, index) => {
                    reactItem.onclick = () => {
                        reactText.innerText = infoReact[index].text;
                        reactIcon.src = infoReact[index].path;
                    }
                });
            }      
            changeColor()
        }

        
    </script>
    
</body>
</html>